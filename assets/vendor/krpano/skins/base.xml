<krpano>
<!-- <layer name="skin_control_bar" keep="true"  /> -->
<!-- <style name="skin_hotspotstyle" url="../viewer/skin/vtourskin_hotspot.png" scale="0.5" edge="top" distorted="true"
   tooltip=""
   onclick="if(linkedscene, set(enabled,false); skin_hidetooltips(); tween(depth|alpha|oy|rx, 4000|0.0|-50|-60, 0.5, default, loadscene(get(linkedscene),null,get(skin_settings.loadscene_flags),get(skin_settings.loadscene_blend)); skin_updatescroll(); ); ); check_hotspot_type();"
   onover="tween(scale,0.55);"
   onout="tween(scale,0.5);"
   onloaded="if(linkedscene AND skin_settings.tooltips_hotspots, copy(tooltip,scene[get(linkedscene)].title); loadstyle(skin_tooltips); );"
/>
 -->

<!-- <style 
  name="textpopup"
  url="../viewer/skin/images/information.png" 
  crop="0|0|60|60" 
  frame="0" 
  lastframe="19" 
  framewidth="64" 
  frameheight="64" 
  distorted="true"
  onclick.mouse="copy(layer[tooltip_title_scene].html, scene[get(linkedscene)].title);
                 copy(layer[tooltip_image_scene].url, scene[get(linkedscene)].thumburl);
                       set(layer[text_parent].visible, true);
                       tween(layer[tooltip_title_scene].alpha, 1.0, 0.1);
                       asyncloop(hovering, copy(layer[text_parent].x,mouse.stagex); copy(layer[text_parent].y,mouse.stagey); );"
  onout.mouse="tween(layer[tooltip_title_scene].alpha, 0.0, 0.1, default, set(layer[text_parent].visible,false), copy(layer[text_parent].x,mouse.stagex); copy(layer[text_parent].y,mouse.stagey); );"

/>
 -->

<style 
  name="tooltip"
  url="../viewer/skin/images/tooltip.png" 
  crop="0|0|40|40" 
  frame="0" 
  lastframe="19" 
  framewidth="64" 
  frameheight="64" 
  distorted="true"
  onover.mouse="copy(layer[tooltip_title_scene].html, scene[get(linkedscene)].title);
                 copy(layer[tooltip_image_scene].url, scene[get(linkedscene)].thumburl);
                       set(layer[tooltip_parent].visible, true);
                       tween(layer[tooltip_title_scene].alpha, 1.0, 0.1);
                       asyncloop(hovering, copy(layer[tooltip_parent].x,mouse.stagex); copy(layer[tooltip_parent].y,mouse.stagey); );"
  onout.mouse="tween(layer[tooltip_title_scene].alpha, 0.0, 0.1, default, set(layer[tooltip_parent].visible,false), copy(layer[tooltip_parent].x,mouse.stagex); copy(layer[tooltip_parent].y,mouse.stagey); );"
/>
<style  name="textpopup" onclick="text_action"  crop="0|0|50|50" url="../viewer/skin/images/information.png" />

<action name="text_action" >
        set(text_t, get(hotspot_text));
        txtadd(text_t, get(hotspot_desc));
        if(webvr.isenabled,
        set(layer[overlay].visible, false);
        ,
        if(get(text_t) != '',
          set(layer[overlay].visible, true);
          set(layer[text_popup].html, get(text_t));
        );
          if(get(text_t) == null,
            set(layer[overlay].visible, true);
          );
        );
</action>
<style 
  name="video" 
  onclick="video_action" 
  crop="0|0|50|50" 
  url="../viewer/skin/images/video.png" 
  scale="0.8" 
  onover.mouse="" 
  onout.mouse=""
  />
<style name="modal" onclick="modal_action" url="../viewer/skin/images/modal.png" scale="0.8" onover.mouse="" onout.mouse=""/>

<action name="hotspot_animate">
        inc(frame,1,get(lastframe),0);
        mul(ypos,frame,frameheight);
        txtadd(crop,'0|',get(ypos),'|',get(framewidth),'|',get(frameheight));
        delayedcall(0.1, if(loaded, hotspot_animate() ) );
</action>
<layer name="tooltip_parent" type="container" keep="true" align="lefttop" edge="bottom" x="0" y="0" oy="-5"
       width="140" height="120" bgcolor="0x000000" bgalpha="0.7" bgroundedge="5" visible="false">
    <layer name="tooltip_image_scene" type="image" url="" keep="false" align="lefttop" x="10" y="10" width="240"
           heigt="160" crop="0|40|240|160" scale="0.5"/>
    <layer name="tooltip_title_scene" keep="false"
           url="%SWFPATH%/plugins/textfield.swf"
           visible="true" alpha="0" enabled="false"
           align="lefttop" x="10" y="90" width="120" autoheight="true"
           background="false" backgroundcolor="0xFFFFFF" backgroundalpha="1.0"
           border="false" bordercolor="0x000000" borderalpha="1.0" borderwidth="1.0" roundedge="0"
           shadow="0.0" shadowrange="4.0" shadowangle="45" shadowcolor="0x000000" shadowalpha="1.0"
           textshadow="get:skin_settings.design_text_shadow" textshadowrange="6.0" textshadowangle="90"
           textshadowcolor="0x000000" textshadowalpha="1.0"
           css="color:#ffffff; font-family:Arial; text-align:left; font-size:5px;"
           html=""
    />

    <layer name="mytext"
      type="text"
      align="lefttop" 
      html="[b] Tooltip text here[/b]"
      css="font-family:Arial; font-size:16px; color:white;"
      vcenter="false"
      padding="2"
      wordwrap="true"
      bg="true"
      bgcolor=""
      bgalpha="1.0"
      bgborder="0"
      bgroundedge="0"
      bgshadow=""
      txtshadow=""
      mergedalpha="true"
      interactivecontent="false"
      onautosized=""
      width="140"
      height="120"
      oy="-5"
      />


</layer>

<layer name="image_parent" type="container" keep="true" align="lefttop" edge="bottom" x="0" y="0" oy="-5"
       width="200" height="200" bgcolor="0x000000" bgalpha="0.7" bgroundedge="5" visible="false">
    <layer name="one"
       type="image"
       url="i.png"
       keep="false"
       parent=""
       visible="true"
       enabled="true"
       handcursor="true"
       maskchildren="false"
       scalechildren="false"
       zorder=""
       style=""
       align=""
       edge=""
       x=""
       y=""
       rotate="0.0"
       width="100%"
       height="100%"
       scale="1.0"
       alpha="1.0"
       crop=""
       onovercrop=""
       ondowncrop=""
       bgcolor="0x000000"
       bgalpha="0.0"
       bgborder="0"
       bgroundedge="0"
       bgshadow=""
       bgcapture="false"
       onover=""
       onhover=""
       onout=""
       onclick=""
       ondown=""
       onup=""
       onloaded=""
       />


</layer>
<!-- <action name="video_parent" type="Javascript" devices="html5"><![CDATA[
   alert('41')
  ]]>
    
  </action> -->
      <!--
<layer action="video_parent" type="container" keep="true" align="lefttop" edge="bottom" x="0" y="0" oy="-5"
       width="200" height="200" bgcolor="0x000000" bgalpha="0.7" bgroundedge="5" visible="false">
      
      <layer name="video"
       url.html5="graphics/videoplayer.js"
       videourl="v.mp4"
       posterurl="videoposter.jpg"
       align="center" x="0" y="0"
       pausedonstart="false"
       loop="false"
       volume="1.0"
       onvideoready=""
       onvideoplay=""
       onvideopaused=""
       onvideocomplete=""
       onerror=""
       />

</layer>
 -->

<action name="check_hotspot_type">
        set(text, get(hotspot_text));

        if(webvr.isenabled,
        set(layer[overlay].visible, false);
        ,
        if(text != '',
          set(layer[overlay].visible, true);
          set(layer[text_popup].html, get(hotspot_text));
        );
          if(text == null,
            set(layer[overlay].visible, true);
          );
        );


    </action>
<!-- <action name="video_action">
        set(video, get(video_url));
        if(webvr.isenabled,
        set(layer[overlay].visible, false);
        ,
        if(video != '',
          set(layer[overlay].visible, true);
          set(layer[text_popup].html, get(video_url));
        );
          if(video == null,
            set(layer[overlay].visible, true);
          );
        );
    </action> -->
  <!-- <action name="video_action" type="Javascript" devices="html5"><![CDATA[
    alert(2);
    function addElement () { 
      var newDiv = document.createElement("div"); 
      newDiv.setAttribute("id", "video-div");
      var newContent = document.createTextNode("Hi there and greetings!"); 
      newDiv.appendChild(newContent);  
      var currentDiv = document.getElementById("video-div"); 
      document.body.insertBefore(newDiv, currentDiv); 
    }
    addElement ();
      document.getElementById("video-div").style.width = "50px";
      document.getElementById("video-div").style.height = "50px";
      document.getElementById("video-div").style.zIndex = 5;
  ]]>
    
  </action> -->
<layer name="video_layer"
       url.html5="graphics/videoplayer.js"
       videourl="v.mp4"
       align="center" x="0" y="0"
       pausedonstart="false"
       loop="false"
       volume="1.0"
       onvideoready=""
       onvideoplay=""
       onvideopaused=""
       onvideocomplete=""
       onerror=""
       onclick="video_action"
       />

  <action name="video_action">
        set(layer[video_layer].visible, true);
          <!-- set(layer[overlay].bgcolor, "#000"); -->
      
  </action>
<action name="modal_action">
        set(modal, get(modal_text));
        if(webvr.isenabled,
        set(layer[overlay].visible, false);
        ,
        if(modal != '',
          set(layer[overlay].visible, true);
          set(layer[text_popup].html, get(modal_text));
        );
          if(modal == null,
            set(layer[overlay].visible, true);
          );
        );
    </action>
</krpano>